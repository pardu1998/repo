<html>
    <head>
        <body>
            <div id = "chart"></div>
        </body>
        <script>
           fetch("https://api.github.com/users")
            .then((data)=>{
            return data.json();
            })
            .then ((users)=>{
            getDynamicTable(users)
            });
            function getDynamicTable(users){
                const tbl = document.createElement('table');
                const tblHead = document.createElement('thead');
                const tblBody = document.createElement('tbody');
                const tableHeadRow = document.createElement('tr');
                console.log(tbl,tblHead,tblBody,tableHeadRow);
                Object.keys(users[0]).forEach((bin)=>{
                    if(bin ==='Source code managers'){
                        const theadCell = document.createElement('th');
                        const cellText = document.createTextNode(bin);
                        theadCell.appendChild(cellText);
                        tableHeadRow.appendChild(theadCell)
                        console.log();
                    }
                    else{
                        const theadCell = document.createElement('th');
                        const cellText = document.createTextNode(bin);
                        console.log(theadCell,cellText);
                        theadCell.appendChild(cellText);
                        tableHeadRow.appendChild(theadCell);
                    }
                });
                users.forEach((developersBin) => {
                    const row = document.createElement('tr');
                    for( developersData in developersBin){
                        const cell = document.createElement('td');
                        const cellText = document.createTextNode(developersBin[developersData]);
                        cell.appendChild(cellText);
                        row.appendChild(cell);
                    }
                    tblBody.appendChild(row);
                });
                tbl.appendChild(tableHeadRow);
                tbl.appendChild(tblBody);
                tbl.setAttribute("border","2");
                document.querySelector('#chart').innerHTML = "";
                document.querySelector('#chart').appendChild(tbl);
            }
        </script>
    </head>
    <body>

    </body>
</html>